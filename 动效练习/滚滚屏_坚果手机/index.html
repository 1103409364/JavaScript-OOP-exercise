<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>坚果手机-概览</title>
    <link rel="stylesheet" href="css/cssreset-min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<style>

</style>

<body>
    <header>
        <ul class="link">
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
            <li><a></a></li>
        </ul>
        <nav></nav>
    </header>

    <div class="page1">
        <div class="content">
            <h3>漂亮的不像实力派</h3>
            <p><a href="javascript:;" class="active">标准版</a><i></i><a href="javascript:;"">文艺青年版</a></p>
        </div>

        <div class=" phonePic">
                    <ul class="standard clearfix">
                        <li><a href="javascript:;"><img src="img/phone (1).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (2).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (3).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (4).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (5).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (6).png" alt=""></a></li>
                        <li><a href="javascript:;"><img src="img/phone (7).png" alt=""></a></li>
                    </ul>
        </div>
    </div>

    <script src="js/jquery-1.12.4.js"></script>
    <script src="js/velocity.min.js"></script>
    <script src="js/index.js"></script>

    <script>
        $phonePicWrap = $(".phonePic");
        $imglist = $(".phonePic .standard img");

        // 起始位置，百分比padding-top根据父盒子宽度计算
        var imgDefaultState = [120, 90, 130, 90, 50, 90, 120];

        var state = [];

        $phonePicWrap.mousemove(function (event) {
            //根据鼠标和每个图片中线的位置关系，设置偏移量，这里用padding挤下来，也可以用绝对定位，
            $imglist.each(function (i) {
                $(this).css("padding-top", Math.abs(event.clientX - positionArr[i]) / 4 + "px");
            });

        })

        //关键语句：得到每个li的自己中线的位置,防止窗口大小改变，位置发生变化需要重新
        var positionArr = [];
        
        getPosition();

        function getPosition() {
            $(".phonePic .standard li").each(function () {
                positionArr.push($(this).offset().left + $(this).width() / 2);
            });
        }

        $phonePicWrap.mouseleave(reset);

        function reset() {
            $imglist.each(function (i) {
                $(this).stop(true).animate({
                    "padding-top": imgDefaultState[i] + "%",
                }, 200)
            })
        }
    </script>
</body>

</html>